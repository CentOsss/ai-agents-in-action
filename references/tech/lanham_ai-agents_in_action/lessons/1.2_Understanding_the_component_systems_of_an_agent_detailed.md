# 1.2 Понимание компонентной системы агента

## Введение
Агенты — это не просто программы, а сложные системы, состоящие из множества компонентов. В этом разделе мы подробно рассмотрим, из каких частей состоит современный AI-агент, как эти компоненты взаимодействуют между собой и почему их грамотная организация критически важна для эффективности и гибкости агента.

## 1. Основные компоненты агента
В книге выделяют 5 ключевых категорий компонентов:

1. **Профиль и персона (persona):**
   - Это базовое описание агента, его "характер" и задачи.
   - Персона (часто — системный промт) определяет стиль, поведение, область знаний.
   - Профиль может быть создан вручную, с помощью LLM или на основе данных/алгоритмов.
   - Пример: агент-кодер, агент-писатель, агент-аналитик.

2. **Действия и инструменты:**
   - Всё, что агент может делать для достижения целей: выполнение задач, исследование, коммуникация.
   - Действия могут быть сгенерированы вручную, извлечены из памяти или следовать заранее заданному плану.
   - Пример: агент может отправлять письма, анализировать данные, выполнять поиск.

3. **Знания и память:**
   - Агенты используют память и знания для аннотирования контекста и эффективного использования токенов.
   - Форматы памяти могут быть разными: документы, базы данных, эмбеддинги, простые списки.
   - Пример: агент хранит историю диалога, использует базу знаний или векторные представления.

4. **Мышление и оценка (reasoning & evaluation):**
   - Агенты способны рассуждать и оценивать свои действия.
   - Эти системы помогают агенту продумывать решения и оценивать их качество.
   - Пример: агент анализирует несколько вариантов ответа и выбирает лучший.

5. **Планирование и обратная связь:**
   - Организация задач для достижения целей.
   - Может быть без обратной связи (автономное планирование) или с обратной связью (адаптация к изменениям среды или отзывам пользователя).
   - Используются разные подходы: однопутевое, последовательное, многопутевое планирование.
   - Пример: агент строит пошаговый план решения задачи и корректирует его по ходу выполнения.

## 2. Взаимодействие компонентов
- Даже простой агент может включать все эти компоненты, а сложные системы строятся на их комбинациях.
- Планирование и обратная связь важны не только для автономных агентов, но и для обычных ассистентов.
- Грамотная организация компонентов позволяет агенту быть гибким, адаптивным и эффективным.

## 3. Примеры
- Агент-помощник с профилем "аналитик" использует память для хранения истории запросов, инструменты для анализа данных и планирование для построения отчётов.
- Мультиагентная система: один агент отвечает за сбор данных, другой — за анализ, третий — за визуализацию результатов.

## Итоги
- Современный агент — это система, состоящая из профиля, действий, памяти, мышления и планирования.
- Каждый компонент играет свою роль и влияет на эффективность работы агента.
- Гибкость и адаптивность агента достигается за счёт грамотной организации и взаимодействия компонентов.

## Проверочные вопросы
1. Какие пять основных компонентов выделяют в структуре агента?
2. Какую роль играет профиль (persona) агента?
3. Почему важно наличие памяти и знаний у агента?
4. Как мышление и оценка помогают агенту принимать решения?
5. В чём разница между планированием с обратной связью и без неё? 